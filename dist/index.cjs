"use strict";var a=Object.defineProperty;var u=(i,t,e)=>t in i?a(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var s=(i,t,e)=>(u(i,typeof t!="symbol"?t+"":t,e),e);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});class n{constructor(t){this.setQuery(t)}setQuery(t,e){t!=null&&(typeof t=="object"?this.query={...this.query,...t}:e!=null&&(this.query[t]=e))}getQuery(){let t=this.query||{},e="";for(let r in t)e+=`${r}=${t[r]}&`;return e.slice(0,e.length-1)}}class h extends n{constructor(e){var t=(...x)=>(super(...x),s(this,"path","/channels"),s(this,"query",{part:"snippet",id:""}),s(this,"queriesKey",["part","id"]),this);typeof e=="string"?(t({id:e}),this.setQuery({...this.query,id:e})):(t(e),this.setQuery(e))}isValidQuery(){let e;for(let r in this.query)if(e=this.queriesKey.indexOf(r),e==-1)throw new RangeError("Invalid query for type search")}}class o extends n{constructor(e){var t=(...w)=>(super(...w),s(this,"path","/search"),s(this,"query",{part:"snippet",q:""}),s(this,"queriesKey",["q","maxResults","part","pageToken"]),this);typeof e=="string"?(t({q:e}),this.setQuery({q:e})):(t(e),this.setQuery(e))}setNextPage(e){e!=null&&(this.query.pageToken=e)}isValidQuery(){let e;for(let r in this.query)if(e=this.queriesKey.indexOf(r),e==-1)throw new RangeError("Invalid query for type search")}}class y extends n{constructor(e){super(e);s(this,"path","/videos");s(this,"query",{part:"status,player,contentDetails,statistics,snippet",chart:"mostPopular",maxResults:"10"});s(this,"queriesKey",["part","chart","maxResults","pageToken"]);this.setQuery(e)}setNextPage(e){e!=null&&(this.query.pageToken=e)}isValidQuery(){let e;for(let r in this.query)if(e=this.queriesKey.indexOf(r),e==-1)throw new RangeError("Invalid query for type video")}}let l=class{constructor(t,e){s(this,"type",null);s(this,"types",{video:t=>new y(t),search:t=>new o(t),channel:t=>new h(t)});s(this,"requestTypes",["video","search","channel"]);s(this,"invalideTypeMessage",`Invalide type for request.
Request type should be ['video', 'search', 'channel']`);s(this,"getPath",()=>this.type.path);s(this,"getQuery",()=>(this.type.isValidQuery&&this.type.isValidQuery(),this.type.getQuery()));if(this.isValidetype(t))this.type=this.types[t](e);else throw new Error(this.invalideTypeMessage)}setNextPage(t){if(this.type.setNextPage)this.type.setNextPage(t);else throw new TypeError("methode setNextPage doesn't on "+typeof this.type)}isValidetype(t){return this.requestTypes.indexOf(t)!=-1}},p=class{constructor(t){s(this,"API_URL","https://www.googleapis.com/youtube/v3");this.API_KEY=t}async execute(t){const e=this.API_URL+t.getPath()+"?"+t.getQuery()+"&key="+this.API_KEY;try{return await(await fetch(new URL(e))).json()}catch(r){return{error:r}}}};const d=p,c=l;exports.Client=d;exports.Request=c;
//# sourceMappingURL=index.cjs.map
